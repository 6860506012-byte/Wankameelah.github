<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Minimal Binary Tree with Guide</title>
    <style>
        /* --- Minimal CSS --- */
        :root {
            --bg-color: #fcfcfc;
            --text-main: #2d3436;
            --accent-green: #6ab04c;
            --node-border: #dfe6e9;
        }

        body {
            margin: 0;
            padding: 40px 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
            background-color: var(--bg-color);
            font-family: 'Tahoma', sans-serif;
            color: var(--text-main);
        }

        .container {
            width: 100%;
            max-width: 800px;
            background: #ffffff;
            padding: 30px;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.02);
            text-align: center;
        }

        h1 { font-weight: 300; font-size: 1.5rem; margin-bottom: 25px; color: #ff7675; }

        .input-group { margin-bottom: 30px; display: flex; justify-content: center; gap: 10px; }

        input {
            padding: 10px;
            border: 1px solid var(--node-border);
            border-radius: 8px;
            width: 70px;
            text-align: center;
            outline: none;
        }

        button {
            padding: 10px 20px;
            border-radius: 8px;
            border: none;
            cursor: pointer;
            font-weight: bold;
            transition: 0.2s;
        }

        .btn-add { background-color: #ff7675; color: white; }
        .btn-clear { background-color: #dfe6e9; color: #636e72; }
        button:hover { opacity: 0.8; }

        canvas { width: 100%; height: auto; margin-top: 20px; }

        /* --- ‡∏™‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏û‡∏¥‡πà‡∏°: Traversal Results & Guide --- */
        .results-section {
            margin-top: 30px;
            padding-top: 20px;
            border-top: 1px solid #eee;
            text-align: left;
        }

        .result-item { margin-bottom: 10px; font-size: 0.95rem; }
        .result-item b { color: var(--accent-green); margin-right: 10px; }

        .guide-section {
            width: 100%;
            max-width: 800px;
            margin-top: 40px;
            background: #f9fff9;
            padding: 25px;
            border-radius: 20px;
            border: 1px solid #e1f0e1;
        }

        .guide-title {
            color: var(--accent-green);
            font-size: 1.2rem;
            margin-bottom: 20px;
            font-weight: bold;
            display: flex;
            align-items: center;
        }

        .guide-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
        }

        .guide-item { display: flex; align-items: flex-start; gap: 12px; }
        .icon-circle {
            width: 32px; height: 32px;
            background: #badc58;
            border-radius: 50%;
            display: flex; justify-content: center; align-items: center;
            flex-shrink: 0; color: white; font-size: 0.8rem;
        }

        .guide-text b { display: block; color: #2d3436; margin-bottom: 2px; }
        .guide-text span { font-size: 0.85rem; color: #636e72; }
    </style>
</head>
<body>

<div class="container">
    <h1> üéÑBinary TreeüéÑ</h1>
    
    <div class="input-group">
        <input type="number" id="nodeInput" placeholder="‡πÄ‡∏•‡∏Ç">
        <button class="btn-add" onclick="addNode()">‡∏õ‡∏•‡∏π‡∏Å Node</button>
        <button class="btn-clear" onclick="resetTree()">‡∏•‡πâ‡∏≤‡∏á‡∏™‡∏ß‡∏ô</button>
    </div>

    <canvas id="treeCanvas" width="800" height="400"></canvas>

    <div class="results-section">
        <div class="result-item"><b>Preorder:</b> <span id="preText">-</span></div>
        <div class="result-item"><b>Inorder:</b> <span id="inText">-</span></div>
        <div class="result-item"><b>Postorder:</b> <span id="postText">-</span></div>
    </div>
</div>

<div class="guide-section">
    <div class="guide-title">‡∏´‡∏•‡∏±‡∏Å‡πÉ‡∏ô‡∏Å‡∏≤‡∏£ Traversal</div>
    <div class="guide-grid">
        <div class="guide-item">
            <div class="icon-circle">‚áÑ</div>
            <div class="guide-text">
                <b>Preorder</b>
                <span>Root ‚Üí Left ‚Üí Right</span>
            </div>
        </div>
        <div class="guide-item">
            <div class="icon-circle" style="background:#badc5899"></div>
            <div class="guide-text">
                <b>Inorder</b>
                <span>Left ‚Üí Root ‚Üí Right</span>
            </div>
        </div>
        <div class="guide-item">
            <div class="icon-circle" style="background:#badc5899"></div>
            <div class="guide-text">
                <b>Postorder</b>
                <span>Left ‚Üí Right ‚Üí Root</span>
            </div>
        </div>
    </div>
</div>

<script>
    class Node {
        constructor(v) { this.val = v; this.left = null; this.right = null; }
    }

    let root = null;
    const canvas = document.getElementById('treeCanvas');
    const ctx = canvas.getContext('2d');

    function addNode() {
        const val = parseInt(document.getElementById('nodeInput').value);
        if (isNaN(val)) return;
        if (!root) root = new Node(val); else insertNode(root, val);
        document.getElementById('nodeInput').value = '';
        render();
    }

    function insertNode(node, v) {
        if (v < node.val) {
            if (!node.left) node.left = new Node(v); else insertNode(node.left, v);
        } else {
            if (!node.right) node.right = new Node(v); else insertNode(node.right, v);
        }
    }

    function render() {
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        if (root) draw(root, canvas.width / 2, 40, 160);
        updateTraversalText();
    }

    function draw(node, x, y, space) {
        ctx.strokeStyle = "#dfe6e9"; ctx.lineWidth = 1;
        if (node.left) {
            ctx.beginPath(); ctx.moveTo(x, y); ctx.lineTo(x - space, y + 70); ctx.stroke();
            draw(node.left, x - space, y + 70, space / 1.8);
        }
        if (node.right) {
            ctx.beginPath(); ctx.moveTo(x, y); ctx.lineTo(x + space, y + 70); ctx.stroke();
            draw(node.right, x + space, y + 70, space / 1.8);
        }
        ctx.beginPath(); ctx.arc(x, y, 18, 0, Math.PI * 2);
        ctx.fillStyle = "white"; ctx.fill();
        ctx.strokeStyle = "#ff7675"; ctx.stroke();
        ctx.fillStyle = "#2d3436"; ctx.font = "12px Arial"; ctx.textAlign = "center";
        ctx.fillText(node.val, x, y + 5);
    }

    // Traversal Logic
    const getPre = (n, r=[]) => { if(n){ r.push(n.val); getPre(n.left, r); getPre(n.right, r); } return r; };
    const getIn = (n, r=[]) => { if(n){ getIn(n.left, r); r.push(n.val); getIn(n.right, r); } return r; };
    const getPost = (n, r=[]) => { if(n){ getPost(n.left, r); getPost(n.right, r); r.push(n.val); } return r; };

    function updateTraversalText() {
        document.getElementById('preText').innerText = getPre(root).join(' ‚Üí ') || '-';
        document.getElementById('inText').innerText = getIn(root).join(' ‚Üí ') || '-';
        document.getElementById('postText').innerText = getPost(root).join(' ‚Üí ') || '-';
    }

    function resetTree() { root = null; render(); }
</script>

</body>
</html>
